---
template: post
slug: arrange-directory
draft: false
socialImage: /emoji.png
title: BOJ 디렉토리 정리 후기
date: 2019-04-08T06:34:43.424Z
description: Baekjoon Online Judge에서 풀었던 알고리즘 문제들에 대한 소스코드를 정리하면서 있었던 일들에 대해 정리한 글입니다.
category: Daily
tags:
  - Programming
  - Crawling
  - Experience
---

\
안녕하세요. **Mochalatte**입니다.

최근에 PS를 하면서 문제 코드를 저장해두던 디렉토리를 보면서 그저 코드만 저장되어 있고, 이것들이 뭔지 한 눈에 보기 어렵다는 느낌을 계속 받았었습니다. 그래서 **'언제 한 번 날잡고 알고리즘 분류대로 싹 정리해야지!'** 라는 생각을 하다가 이번에 진행하게 되었습니다.

그런데 큰 맘을 먹고 시작한 것과는 다르게 조금 진행을 하다보니 손이 너무 아파졌습니다. 파일의 수가 천 문제를 넘어가기 때문에 이것들을 온전히 제 손으로만 모든 것을 바꾸면 시간이 엄청 오래 걸릴 것 같다는 생각을 했습니다. 그래서 프로그래밍을 배우고 있는 사람의 입장에서 **'프로그래밍으로 해결해보자!'**로 자연스럽게 이어지게 되었습니다.

## [ 정리하기 전 ]

![before-arrangement](/media/daily/before_arrangement.png)

---

## 첫 번째 접근

가장 처음하게 된 것은 단순히 `C++`을 이용하여 **문제 번호**와 **제목**을 입력하면 대응되는 파일에 대한 파일명을 `boj{문제 번호}_{제목}.cpp`로 바꾸고 **commit 메시지**까지 작성해서 출력하는 프로그램을 작성하였습니다.
> 이 당시에는 알고리즘 분류를 할 생각을 안했습니다.

### [ 첫 번째 접근 ]

![first_version](/media/daily/initial_version.png)

그런데 이렇게 만들고나니 결국 **직접** 커맨드를 복사하고 터미널에 붙여넣어서 실행해야 한다는 단점이 있었고, 이후에 알고리즘 분류를 해야겠다는 생각을 하면서 다시 다른 코드를 작성하게 되었습니다.

---

## 두 번째 접근

그 다음으로 하게 된 생각은 **'C++ 프로그램으로 터미널 커맨드를 직접 실행시킬 수는 없을까?'** 였습니다. 그래서 바로 구글링을 하게 되었습니다. 구글링을 통하여 C++의 `system` 함수를 사용하면 된다는 것을 알게 되었고, 바로 함수에 대한 정보를 찾았습니다. 함수도 생각보다 매우 간단해서 즉석에서 테스트 코드를 작성해보고, 실제 코드에 적용을 하였습니다.

### [ 두 번째 접근 ]

![second_version](/media/daily/second_version.png)

위와 같이 **문제 번호**, **알고리즘 분류**, **제목**을 작성하면 알아서 해당 알고리즘 분류 디렉토리로 파일을 옮기면서 파일명도 바꾸고, [Github](https://boj.kr/onww1/Algorithm)으로 **Commit**이 되도록 만들었습니다. 그리고 이것을 확장하여 무한루프를 돌면서 계속 입력을 받아서 반복적인 수행을 하도록 만들었습니다.

여기서 또 발견한 문제는 제가 코드를 모두 C++로만 작성했던 것이 아니라는 것입니다. 중간에 `java` 코드도 있고, `C` 코드도 있고, `Python` 코드도 있었습니다. 그래서 이러한 확장자에 대해서도 유연한 프로그램으로 변경시켰습니다.

그리고 같은 문제를 여러 번 풀었을 경우, 그 코드들을 모두 저장했었는데 그러한 것들 중에서 가장 마지막 것만 남기고 나머지는 지워버리고 싶었습니다. 그래서 이와 관련된 코드도 만들어서 사용하였습니다.

> 위 코드들은 TIL에 정리해 두었습니다. \
[TIL : C++ system 함수 사용하기](https://mochalatte.dev/posts/today-i-learned/programming/cpp-system-func)

---

## 세 번째 접근

이렇게 코드를 작성하여 커맨드까지 실행을 하게 되었으니 조금은 더 편하게 진행할 수 있게 되었습니다. 그런데 진행을 하다보니 모든 문제에 대해서 **문제 제목**, **알고리즘 분류**를 알아내기 위하여 직접 문제를 확인하고 손으로 타이핑을 해야 했습니다. 이러한 과정도 줄일 수 있지 않을까 생각을 하다가 **'파이썬으로 크롤링을 해보자!'**라는 생각을 하게 되었습니다.

크롤링과 관련해서는 이전 학기(2018년 2학기)에 **소프트웨어 개발의 원리 및 실제**라는 수업을 수강하면서 크롤링을 해볼 기회가 조금 있었기에 시도하게 되었습니다. 이전에 프로젝트에서 작성했던 코드도 참고하고, [Beomi님 블로그](https://beomi.github.io/2017/01/20/HowToMakeWebCrawler/)도 참고하면서 작성하였습니다. 

처음 [백준 온라인 저지](https://boj.kr)에 대해서 분석을 할 때, **정적 페이지**이기 때문에 `requests` 모듈을 이용하여 빠르게 크롤링을 하면 되겠다고 생각했습니다. 그래서 **문제 번호**를 주면 url을 작성하여 `get` method로 **문제 번호**, **제목**을 출력하도록 만들었고, 이것까지는 쉬웠습니다. 그런데 한 가지 문제점이 있었는데 **알고리즘 분류**의 경우 로그인을 하지 않으면 아예 볼 수 없다는 사실이었습니다. 이를 해결하기 위해 바로 블로그를 참고하여 `Session`을 만들어서 로그인을 하려고 했습니다. 그런데 블로그에서 나온 예시도 그랬고, 대부분의 웹이 `csrf`를 사용하는 것 같아서 백준 사이트에서도 열심히 찾아 보았는데 찾을 수 없었습니다. 결국 `csrf`없이 그냥 단순히 아이디와 비밀번호만 있으면 될 것 같아서 로그인 정보를 **dictionary**로 만들어서 `post` 요청을 보냈는데 계속 로그인에 실패했습니다. 이에 대한 원인을 알지 못하고 계속 문제가 생겨서 조금 느린 `selenium`을 사용하기로 결정했습니다.

> 이에 대한 원인은 허무하게도 API 주소를 잘못 적었기 때문입니다. \
  제가 웹을 잘 몰라서 쓸데없이 돌아갔네요..

실제로 수업에서 했던 크롤링은 `selenium`을 사용했었기 때문에 이전보다는 수월하게 진행하였습니다. 로그인을 하고, 각 문제 별로 접근하여 **제목**과 **알고리즘 분류**를 가져왔습니다. 아래 사진이 테스트에 성공했던 모습입니다.

### [ 세 번째 접근 - Test 성공 ]

![third_version_test](/media/daily/crawling.png)

이후, 바로 프로그램을 확장시켜서 `bojxxxx.yyy`와 같이 **문제 번호**와 **확장자**가 함께 적힌 파일명들을 한 번에 주면 순차적으로 크롤링하여 **문제 번호**, **확장자**, **제목**, **알고리즘 분류**가 나오도록 만들었습니다. 크롤링을 하여 나오는 출력은 앞에서 작성했던 C++ 프로그램의 **input**에서 요구하는 형태로 만들었습니다. 그렇게 만든 프로그램의 실행 형태는 다음과 같았습니다.

### [ 세 번째 접근 - 크롤링 ]

![third_version_crawling](/media/daily/crawling_files.png)

알고리즘 분류가 되어 있지 않은 문제들도 존재했기 때문에 그런 문제들은 어쩔 수 없이 직접 확인을 해야 했습니다. 하지만 문제 제목을 직접 타이핑하지 않아도 된다는 것, C++ 프로그램에 입력으로 넣어줄 형식이 어느 정도 갖춰져 있다는 점이 일의 능률을 충분히 올려주었습니다.

이렇게 여러 프로그램을 작성하고, 사용하여 결과적으로 예상했던 시간보다 빠르게 디렉토리를 정리할 수 있었습니다.

> 위에서 얘기한 크롤링에 관한 내용들은 TIL에 정리되어 있습니다. \
  [TIL : Selenium으로 크롤링하기](https://mochalatte.dev/posts/today-i-learned/programming/py-crawling-selenium) \
  [TIL : Requests로 크롤링하기](https://mochalatte.dev/posts/today-i-learned/programming/py-crawling-request)

---

## 최종 결과

결과적으로 다음과 같이 깔끔한 디렉토리 상태로 만들 수 있게 되었습니다.

### [ 최종 결과 - 디렉토리 ]

![final_1](/media/daily/after_arrangment.png)

### [ 최종 결과 - Github ]

![final_2](/media/daily/github_status.png)

---

실생활에서의 문제를 직접 구글링을 통해서 알아보고, 공부했던 프로그래밍을 통해서 일의 처리 속도를 빠르게 만들었다는 것에 뿌듯함을 느끼게 된 시간이었습니다.

지금까지 **BOJ 디렉토리 정리**를 했던 저의 이야기를 소개해 드렸습니다.
혹시라도 어딘가 문제가 있어 보인다면 언제든지 **피드백**을 해주세요!!

감사합니다. 🙇🏻‍
